(this["webpackJsonptest-1"]=this["webpackJsonptest-1"]||[]).push([[0],{211:function(e,c,t){"use strict";t.r(c);var a=t(2),s=t.n(a),n=t(77),i=t.n(n),r=(t(85),t(8)),d=t(20),l=t(78),o=t(15),u=t.n(o),p=t(79),h=t(214),j=t(80),m=t(3);var f=function(e){switch(e.toString()){case"100":return"https://img01.yzcdn.cn/upload_files/2023/07/31/Ftk19JKB_qYjbgO-4GB_6nKLXbD1.png";case"101":case"102":case"103":return"https://img01.yzcdn.cn/upload_files/2023/07/31/FvxdSi2ZAcveEQL6XdXrBEfip2p_.png";case"104":return"https://img01.yzcdn.cn/upload_files/2023/07/31/Fnlj1Z0eIMJWdDlE9I-NBdxR55Wo.png";case"300":case"301":case"302":case"303":case"304":return"https://img01.yzcdn.cn/upload_files/2023/07/31/Ftqk5Xwl26G5_xTOfvg7bzPms2p8.png";case"305":case"309":case"314":case"399":return"https://img01.yzcdn.cn/upload_files/2023/07/31/FrobFAn5OLQoZnsnx9CBIyHMqTrZ.png";case"306":case"315":return"https://img01.yzcdn.cn/upload_files/2023/07/31/FoX7ij4gDQPeMJv0tdbKZ5HH7c0q.png";case"307":case"316":return"https://img01.yzcdn.cn/upload_files/2023/07/31/Ft2oh0Xr0Wmsr7VABKN-D5cuw6jw.png";case"308":case"317":return"https://img01.yzcdn.cn/upload_files/2023/07/31/Fpv92CDw-oPEtglZvCOXfL0svymz.png";case"310":case"311":case"312":case"318":return"https://img01.yzcdn.cn/upload_files/2023/07/31/FlwgwIZKbgYvidHx1y0PLPXOzW2p.png";case"313":case"404":case"405":return"https://img01.yzcdn.cn/upload_files/2023/07/31/FpexEyEq_cdBrzMTudTOS6P_jYpY.png";case"400":case"408":case"499":return"https://img01.yzcdn.cn/upload_files/2023/07/31/Fkk1h8TyxqwxLOLNTelq08-h7rh0.png";case"401":case"409":return"https://img01.yzcdn.cn/upload_files/2023/07/31/Fl4ojMIEEhDufBwUiE6_bqxqmLb8.png";case"402":case"410":return"https://img01.yzcdn.cn/upload_files/2023/07/31/FvIhDxJ4uAnAgQ0mdQYVN0ug0NLF.png";case"403":return"https://img01.yzcdn.cn/upload_files/2023/07/31/FrlPHyArYGayYS_qfo0JTmfpdlcJ.png";case"406":case"407":return"https://img01.yzcdn.cn/upload_files/2023/07/31/Fu2moLSd7usM7DqQVaBjpaLrrEX5.png";case"500":case"501":case"502":case"509":case"510":case"511":case"512":case"513":case"514":case"515":return"https://img01.yzcdn.cn/upload_files/2023/07/31/FpBbuDB9COxRBGUjq5GO_uVKj758.png";case"503":return"https://img01.yzcdn.cn/upload_files/2023/07/31/FgOC4IeNsIbI-WVd9fji1Y-UM_b2.png";case"504":case"507":case"508":return"https://img01.yzcdn.cn/upload_files/2023/07/31/FmGbl54EUiEJ5aPbOHZGvUmPb1hT.png";default:return"https://img01.yzcdn.cn/upload_files/2023/07/31/Ftk19JKB_qYjbgO-4GB_6nKLXbD1.png"}},g=function(){var e=Object(a.useState)([]),c=Object(r.a)(e,2),t=c[0],s=c[1],n=Object(a.useState)([]),i=Object(r.a)(n,2),o=i[0],g=i[1],b=Object(a.useState)(""),O=Object(r.a)(b,2),x=O[0],v=O[1],y=o.find((function(e){return e.performanceId===x}));Object(a.useState)((function(){Promise.all([Object(d.get)("https://devapi.qweather.com/v7/weather/7d?location=101210109&key=536f0333e42f40bca3c44f43f91f921e"),Object(d.get)("https://devapi.qweather.com/v7/air/5d?location=101210109&key=536f0333e42f40bca3c44f43f91f921e")]).then((function(e){var c=Object(r.a)(e,2),t=c[0].data,a=c[1].data,n=function(e,c,t){var a=u.a.groupBy(e.concat(c),t);return u.a.map(a,(function(e){return u.a.assign.apply(u.a,e)}))}(t.daily,a.daily,"fxDate");console.log(n,"res data"),s(n.slice(1,6))})),Object(d.get)("https://yanchu.maoyan.com/myshow/ajax/channelPage/wonderPerfs?p=1&s=20&ct=9&st=15&optimus_risk_level=71&optimus_code=10&uuid=35d7d0a375f841e295c2011ac803c6e4a158458781335150377&sellChannel=1&cityId=3&lng=120.08712448460645&lat=30.25695654285865&token=4f9f9e09ce1a1d6e47d46662e1b2d4effcfb02b5c2547988c95f1a0f70223eeeb8231e298cf2eca624aeb48179142e56e14c63aff9345ca10c03a18ba9dbb7b1&yodaReady=h5&csecplatform=4&csecversion=2.1.0").then((function(e){var c=e.data;return g(c.data)}))}),[]);return Object(m.jsxs)("div",{className:"flex",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{onClick:function(){Object(j.a)(document.querySelector("#poster-container")).then((function(e){!function(e,c){var t=document.createElement("a");t.href=e,t.download=c,t.click()}(e,"output.png")}))},children:"\u5bfc\u51fa"}),Object(m.jsx)("div",{className:"scale",children:Object(m.jsxs)("div",{id:"poster-container",style:{width:1448,height:1086,background:'url("https://img01.yzcdn.cn/upload_files/2023/07/31/FgxVIPCD5BtWgeaRkv88w6DrZrJj.png") no-repeat center center',backgroundSize:"contain"},children:[Object(m.jsx)("div",{className:"flex weather-container",children:t.map((function(e){return Object(m.jsxs)("div",{className:"weather-item",children:[Object(m.jsxs)("div",{className:"weather-time-title",children:[Object(m.jsxs)("div",{className:"weather-time-week",children:["\u5468",(c=new Date(e.fxDate),["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"][c.getDay()])]}),Object(m.jsx)("div",{className:"weather-time-date",children:Object(l.format)(new Date(e.fxDate),"M.D")})]}),Object(m.jsxs)("div",{className:"weather-item-desc",children:[Object(m.jsx)("img",{className:"weather-item-icon",width:150,src:f(e.iconDay),alt:"\u5929\u6c14"}),Object(m.jsxs)("div",{children:[e.tempMin," ~ ",e.tempMax,"\xb0C"]}),Object(m.jsxs)("div",{children:[e.windDirDay," ",e.windScaleDay,"\u7ea7"]}),Object(m.jsxs)("div",{children:["PM2.5"," ",Object(m.jsx)("span",{style:{marginLeft:8},children:e.category||"\u826f"})]})]})]});var c}))}),y?Object(m.jsxs)("div",{className:"shower-container flex",children:[Object(m.jsx)("div",{className:"shower-item-img",style:{backgroundImage:'url("'.concat(y.posterUrl,'")')}}),Object(m.jsxs)("div",{className:"shower-item-text",children:[Object(m.jsxs)("div",{children:["\u540d\u79f0\uff1a",y.name]}),Object(m.jsxs)("div",{children:["\u65f6\u95f4\uff1a",y.showTimeRange]}),Object(m.jsxs)("div",{children:["\u5730\u70b9\uff1a",y.address]})]})]}):null]})})]}),Object(m.jsx)(p.a,{value:x,onChange:function(e){return v(e.target.value)},className:"scroll-container",children:o.map((function(e){return Object(m.jsx)(h.a,{className:"flex",value:e.performanceId,children:Object(m.jsx)("div",{style:{display:"inline-block"},children:Object(m.jsxs)("div",{className:"flex",children:[Object(m.jsx)("div",{className:"list-item-img",children:Object(m.jsx)("img",{width:75,src:e.posterUrl,alt:"\u5929\u6c14"})}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{children:["\u540d\u79f0\uff1a",e.name]}),Object(m.jsxs)("div",{children:["\u65f6\u95f4\uff1a",e.showTimeRange]}),Object(m.jsxs)("div",{children:["\u5730\u70b9\uff1a",e.address]})]})]})})})}))})]})},b=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,215)).then((function(c){var t=c.getCLS,a=c.getFID,s=c.getFCP,n=c.getLCP,i=c.getTTFB;t(e),a(e),s(e),n(e),i(e)}))};i.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(g,{})}),document.getElementById("root")),b()},85:function(e,c,t){}},[[211,1,2]]]);
//# sourceMappingURL=main.c4229329.chunk.js.map